{"version":3,"sources":["js/storage.js","js/model.js","js/Item.js","js/view.js","js/index.js"],"names":["saveStore","shoppingList","completedList","window","localStorage","setItem","JSON","stringify","exports","getFromStore","getActive","getItem","getCompleted","active","parse","completed","_storage","require","addToShoppingList","item","itemId","parseInt","Math","random","Date","getTime","push","id","priority","getShoppingList","setPriority","map","removeItem","filter","addToCompletedList","find","getCompletedList","clearCompleted","bootUp","Item","title","_default","default","_Item","_interopRequireDefault","_model","obj","__esModule","shoppingListDiv","document","querySelector","completedDiv","renderShoppingList","domNodes","innerHTML","join","renderCompletedList","_view","itemInput","clearCompletedBtn","addEventListener","evt","key","target","value","parentElement","classList","contains","getAttribute","confirm","getId","dataTransfer","setData","getData","preventDefault"],"mappings":";;AIAA,IAAA6C,MAAA,GAAA5B,OAAA;AAQA,IAAAwC,KAAA,GAAAxC,OAAA;AAEA,MAAMyC,SAAS,GAAGT,QAAQ,CAACC,aAAa,CAAC,yBAAyB,CAAC;AACnE,MAAMF,eAAe,GAAGC,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;AFXhE,AEYA,AHZA,ADAO,AGAP,IFAAlC,AEAA2B,EDAMJ,AEYAY,AJZOnD,GGAb,CDAU,EDAV,AEAA4C,CDAaL,CAACC,CDAdvB,ADAsB,GIYJ,AJZO,CEAN,EAAEW,AEYAqB,CHZrB,KDAyBjD,CAAU,CEAN,AEYA,CAACkD,EFZE,ECAhC,CAAAjC,KDAwC,EAAEU,ACA1C,CCY2C,CFZC,AEYA,KFZK,OEYO,CAAC;AACzD,AHXA,AEDA,EDAE,AFDmC1B,ECEjCA,AEDJ4C,ECYMc,GFZI,CCAV,GAAA1C,CHDiD,ECEjC,GAAG,CEDnB,CFCqB,EGWE,GAAGgC,IFZIrB,IEYI,CAACsB,GFZI,UEYS,CAAC,GFZGvB,EAAG,aEYY,CAAC;AFXpE,AEaA+B,AHZA,AEF4D,EHDTxD,ECG/CA,KGYK,ADdmD0C,CCclDgB,OHZO,GAAG,EAAE,ICDIpB,AEaA,CAAC,IFbK,CCD4BM,ECc1B,CDd0B,CCcxB,UAAUe,ADdcf,GCcX,ADdW,ECcT,EDdSA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAJ,OAAA,EAAAI,GAAA;ADE5D,ADEO,ADL0D,AGGjE,CHHkE,CIgBhE,CJhBkE,GIgB9De,AHXO3C,AEFP8B,GCaG,CAACc,GAAG,KAAK,GDbG,EFES,CEFNb,CCaC,CHXS9B,CGWP,GHXW,EEFN,CAAC+B,CFEU,YEFG,CAAC,gBAAgB,CAAC;ADChE,ACAA,EFEE,ADLA/C,EIgBE,EDbEgD,EFEE/B,ADLA,CAAChB,KCKK,GAAI,CEFA,EFEEiB,CDLC,AGGA4B,CHHC5C,MCKM,CACxBiB,ADNyB,AGGA,CHFzB,AGE0B4B,GFGtB,CAAC3B,MAAM,CAAC,CAAC,CEH0B,CAAC,CFGxB,KDLI,ECMtB,ADLEjB,CCKA,GDLI,AGCgD,CHD/CC,AGCgD,EFIhD,IAAIiB,GDLK,CCKD,ADLEvB,CCKD,CAAC,CAACwB,OAAO,CAAC,CAAE,ADLC,CAC7B,CCI6B,ADJ5B;AECH,ACCO,EFILxB,ADLAE,EIaE,EDZSiD,ECYTlC,AJbI,CAACd,KCKK,CAACsB,IAAI,CAAC,CDLC,CAACrB,EGCS,GAAG+C,CAAA,CHDL,CACzB,EIYiB,CDZmB,CCYlBS,GAAG,CAACE,MAAM,CAACC,KAAK,CAAC,EJZZ,EACvB1D,IAAI,CAACC,SAAS,CAACL,aAAa,CAC9B,CAAC;AEFH,AFGA,CAAC,CGFC,EFIEyB,EAAE,EAAEP,AEJAiC,MFIM,EEJE,GAAG,IAAAxB,sBAAe,EAAC,CAAC,CAACE,GAAG,CAAC,CAAC;ADA1C,AFEEvB,IIWE,AHRAW,AELwCA,GHE1C,CCGM,ADHNnB,AGF8C,SHE9C,GAAAA,SAAA;AEDF,AFGO,IIUH,AHRA4B,AEN8CA,EHIrCnB,EIUT2C,IHRQ,AEN8C,EFM5C,IDFW,GAAG,SAAA3C,CAAA,CIUN,CJVkB,CIUjB,CAAC;AFZxB,EDKE,ADFA,CCEC,CGSC,AHTA,AEPwDkB,ICgBpD,AJXAjB,CIWCsD,EFdE,GEcG,GAAG,AJXA,EIWE,CJXC7D,MAAM,CAACC,YAAY,CAACO,OAAO,CAAC,oBAAoB,CAAC;AEFrE,CAAC,CEcC,AHRA,ADHA,AGN6D,CAAC,GFS9DX,EDHMY,AGN6D,YHMjD,GAAGT,CCGZ,EAAC,GDHiB,CAACC,YAAY,CAACO,OAAO,CAAC,uBAAuB,CAAC;AEHzE,AEeF,CAAC,CAAC,AJVA,EELA8B,ADOExC,AETA,KHOK,EGPE,CDET,GAEasC,ACJJA,CFSK,GCLG,SCJJ,EAACpB,IAAI,EAAES,QAAQ,EAAED,EAAE,CAAC;ADIhBnB,AEenBwC,EDlBE,CAAC,CFSC9C,ADFAW,AGPA,GDGe,CAAA6B,EFIT,EAAEhC,GEJO,AEeJ,CAACkD,EFfGnB,GFIE,GAAGnC,EEJL,EFIS,CAACQ,GIWG,CAAC,CJXC,CAACJ,KIWK,EAAE,EJXE,CAAC,GAAG,EAAE,EIWEmD,GAAG,EAAE;EACvD,AHTA,AERAb,CFQC,CAAC,ADFAjC,EIWE8C,GAAG,CAACE,GJXG,EAAEnD,CIWC,CAACqD,ADjBA,CAACX,SHMS,AGNA,GCiBG,AJXAhD,AGNA+C,CCiBCa,GJXG,CAACpD,GGNG,CAACyC,CCiBC,AJXA,CIWCY,AJXAvD,EGNE,CAAC,EAAE,CAAC,ECiBE,CAAC,GJXG,CAAC,GAAG,WIWW,CAAC,EAAE;AHRvE,AERA,CFQC,AERA,CHMC,CAAC,CIWC;AHTFJ,ADDF,AGPEA,CHOD,GIWG,GHVF,AERA,CFQAU,AERAkC,ECkBQxB,QAAQ,GAAGiC,GAAG,CAACE,AHVvB,CERA,EFQA7C,CERAkC,ECkB6B,CAACc,SAAS,CAACF,GHVxC,EGU6C,ADlB7C;AFUK,ADHLxD,AGLK,ICiBH,EHTSqB,AERA2B,CHKX,CAAA/C,EIYQW,MAAM,GACVyC,CJbJ,CCG0B,CGUnB,CAACE,AJbRtD,CCG6BoB,CAAA,AERC,GAAG2B,CCkBnB,ADlBmB,CCkBlBS,AHVoBhE,IERI,CHKvC,OCG+C,CGUnB,CAACgE,aAAa,CAACG,YAAY,CAAC,SAAS,CAAC;AHVlB5D,EEPhD,ECkBE,GHX8C,CAAAqB,AEP1CwB,QAAQ,GAAG,IFO+B,AEP/BjB,GFO+BP,eAAA,KEPf,EAAC,CAAC,CAACE,GAAG,CAAC,CAAC;AFSpC,IETsCZ,EFShCW,EEToC,SFSzB,GAAGA,CAACV,MAAM,EAAEQ,QAAQ,KAAK;EAC/C3B,EGUE,ADpB+C2B,QAAQ,EFU7C,GAAG3B,YAAY,CAAC8B,GAAG,CAAEZ,IAAI,IAAK;IGWxC,AHVA,AEXyDQ,ICqBzDG,AHVIX,IAAI,CAACQ,EAAE,KAAKP,MGUL,AHVW,EGUVA,AHVY,MGUN,EAAEQ,QAAQ,CAAC;EDrB+B,CAAC,CCsB7D,EHVE,EEZgE,KFYzD;IGWT,ADtBA,ICsBAwB,AHVI,GAAGjC,AEZA,IFYI,AEZJoB,aAAI,EAACpB,ECsBM,EAAC,ADtBH,CCsBI,CDtBFS,QAAQ,EAAED,EAAE,CAAC;ECuBjC,ADtBA,CAAC,CAAC,IFYIC;EEVNuB,IFWI,CAAC,OEXO,CAACG,SAAS,GAAGD,QAAQ,CAACE,IAAI,CAAC,EAAE,CAAC;AAC5C,CAAC,CCqBC,EHVE;AEXF/C,ECsBA,EHTE,EGSEqD,CDtBJ,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","file":"js.00a46daa.js","sourceRoot":"..\\src","sourcesContent":["export const saveStore = function ({ shoppingList, completedList }) {\r\n  window.localStorage.setItem(\r\n    \"shoppingApp_active\",\r\n    JSON.stringify(shoppingList)\r\n  );\r\n  window.localStorage.setItem(\r\n    \"shoppingApp_completed\",\r\n    JSON.stringify(completedList)\r\n  );\r\n};\r\n\r\nexport const getFromStore = function () {\r\n  const getActive = window.localStorage.getItem(\"shoppingApp_active\");\r\n  const getCompleted = window.localStorage.getItem(\"shoppingApp_completed\");\r\n\r\n  return {\r\n    active: getActive ? JSON.parse(getActive) : [],\r\n    completed: getCompleted ? JSON.parse(getCompleted) : [],\r\n  };\r\n};\r\n","import { saveStore, getFromStore } from \"./storage\";\r\n\r\nlet shoppingList = [];\r\nlet completedList = [];\r\n\r\nexport const addToShoppingList = (item) => {\r\n  const itemId = `${parseInt(\r\n    Math.random() * 1000000\r\n  )} - ${new Date().getTime()}`;\r\n\r\n  shoppingList.push({\r\n    id: itemId,\r\n    item,\r\n    priority: \"normal\",\r\n  });\r\n\r\n  saveStore({\r\n    shoppingList,\r\n    completedList,\r\n  });\r\n};\r\n\r\nexport const getShoppingList = () => shoppingList;\r\n\r\nexport const setPriority = (itemId, priority) => {\r\n  shoppingList = shoppingList.map((item) => {\r\n    if (item.id === itemId) {\r\n      return {\r\n        ...item,\r\n        priority,\r\n      };\r\n    }\r\n\r\n    return item;\r\n  });\r\n  saveStore({\r\n    shoppingList,\r\n    completedList,\r\n  });\r\n};\r\n\r\nexport const removeItem = (itemId) => {\r\n  shoppingList = shoppingList.filter(({ id }) => id !== itemId);\r\n\r\n  saveStore({\r\n    shoppingList,\r\n    completedList,\r\n  });\r\n};\r\n\r\nexport const addToCompletedList = (itemId) => {\r\n  const getItem = shoppingList.find(({ id }) => id === itemId);\r\n  shoppingList = shoppingList.filter(({ id }) => id !== itemId);\r\n  completedList = [getItem, ...completedList];\r\n\r\n  saveStore({\r\n    shoppingList,\r\n    completedList,\r\n  });\r\n};\r\n\r\nexport const getCompletedList = () => completedList;\r\n\r\nexport const clearCompleted = () => {\r\n  completedList = [];\r\n\r\n  saveStore({\r\n    shoppingList,\r\n    completedList,\r\n  });\r\n};\r\n\r\nexport const bootUp = () => {\r\n  const { active, completed } = getFromStore();\r\n  shoppingList = active;\r\n  completedList = completed;\r\n};\r\n","const Item = (title, priority = \"normal\", id) => {\r\n  return ` <div class=\"item ${priority}\" data-id=\"${id}\" draggable='true' >\r\n      <div class=\"task\">${title}</div>\r\n      <div class=\"priority-control\">\r\n        <span class=\"high\"></span>\r\n        <span class=\"normal\"></span>\r\n        <span class=\"low\"></span>\r\n      </div>\r\n      <div class=\"remove-btn\">REMOVE</div>\r\n    </div>`;\r\n};\r\n\r\nexport default Item;\r\n","import Item from \"./Item\";\r\nimport { getShoppingList, getCompletedList } from \"./model\";\r\n\r\nconst shoppingListDiv = document.querySelector(\".shopping-list\");\r\nconst completedDiv = document.querySelector(\".completed\");\r\n\r\nexport const renderShoppingList = () => {\r\n  const domNodes = getShoppingList().map(({ item, priority, id }) => {\r\n    return Item(item, priority, id);\r\n  });\r\n\r\n  shoppingListDiv.innerHTML = domNodes.join(\"\");\r\n};\r\n\r\nexport const renderCompletedList = () => {\r\n  const domNodes = getCompletedList().map(({ item, priority, id }) => {\r\n    return Item(item, priority, id);\r\n  });\r\n\r\n  completedDiv.innerHTML = domNodes.join(\"\");\r\n};\r\n","import {\r\n  addToShoppingList,\r\n  setPriority,\r\n  removeItem,\r\n  addToCompletedList,\r\n  clearCompleted,\r\n  bootUp,\r\n} from \"./model\";\r\nimport { renderShoppingList, renderCompletedList } from \"./view\";\r\n\r\nconst itemInput = document.querySelector(\"input[name='itemInput']\");\r\nconst shoppingListDiv = document.querySelector(\".shopping-list\");\r\nconst completedDiv = document.querySelector(\".completed\");\r\nconst clearCompletedBtn = document.querySelector(\"#clear-completed\");\r\n\r\nitemInput.addEventListener(\"keyup\", function (evt) {\r\n  if (evt.key === \"Enter\") {\r\n    //Add to shopping list\r\n    addToShoppingList(evt.target.value);\r\n\r\n    //update the view\r\n    renderShoppingList();\r\n\r\n    this.value = \"\";\r\n  }\r\n});\r\n\r\nshoppingListDiv.addEventListener(\"click\", function (evt) {\r\n  if (evt.target.parentElement.classList.contains(\"priority-control\")) {\r\n    //Priority\r\n    const priority = evt.target.classList.value;\r\n    const itemId =\r\n      evt.target.parentElement.parentElement.getAttribute(\"data-id\");\r\n    // console.log(itemId, priority);\r\n\r\n    //Set priority\r\n    setPriority(itemId, priority);\r\n    //renderView\r\n    renderShoppingList();\r\n  }\r\n\r\n  //Remove Item\r\n  if (evt.target.classList.contains(\"remove-btn\")) {\r\n    const itemId = evt.target.parentElement.getAttribute(\"data-id\");\r\n    const confirm = window.confirm(\"Do you really want to delete?\");\r\n\r\n    //if the item is removed update the view\r\n    if (confirm) {\r\n      removeItem(itemId);\r\n      renderShoppingList();\r\n    }\r\n  }\r\n});\r\n\r\nshoppingListDiv.addEventListener(\"dragstart\", function (evt) {\r\n  const getId = evt.target.getAttribute(\"data-id\");\r\n  evt.dataTransfer.setData(\"text/plain\", getId);\r\n});\r\n\r\ncompletedDiv.addEventListener(\"drop\", function (evt) {\r\n  const itemId = evt.dataTransfer.getData(\"text/plain\");\r\n\r\n  if (itemId) {\r\n    //add to completedDiv\r\n    addToCompletedList(itemId);\r\n\r\n    //updated the shopping list\r\n    renderShoppingList();\r\n\r\n    //update completed tasks list\r\n    renderCompletedList();\r\n  }\r\n});\r\n\r\ncompletedDiv.addEventListener(\"dragover\", function (evt) {\r\n  evt.preventDefault();\r\n});\r\n\r\nclearCompletedBtn.addEventListener(\"click\", function (evt) {\r\n  evt.preventDefault();\r\n  clearCompleted();\r\n  renderCompletedList();\r\n});\r\n\r\n//Immediatly invoked function expression (IIFE)\r\n(() => {\r\n  bootUp();\r\n  renderShoppingList();\r\n  renderCompletedList();\r\n})();\r\n"]}